spring:
  application:
    name: gateway
  # MVC 패턴 사용 (WebFlux 완전 제거)
  main:
    web-application-type: servlet
  config:
    import: "optional:configserver:"
  # Spring Cloud Gateway 제거 - MVC 패턴으로 전환
  # cloud:
  #   config:
  #     enabled: false
  #     import-check:
  #       enabled: false
  #   gateway:
  #     ...
  # Redis 설정 (환경 변수에서 가져옴)
  # Redis 연결 실패 시에도 애플리케이션은 정상 시작됩니다
  data:
    redis:
      host: ${SPRING_REDIS_HOST:${REDIS_HOST:localhost}}
      port: ${SPRING_REDIS_PORT:${REDIS_PORT:6379}}
      password: ${SPRING_REDIS_PASSWORD:${REDIS_PASSWORD:}}
      ssl:
        enabled: ${SPRING_REDIS_SSL_ENABLED:false}
      timeout: 10000ms
      lettuce:
        pool:
          max-active: 8
          max-idle: 8
          min-idle: 0
        ssl:
          enabled: ${SPRING_REDIS_SSL_ENABLED:false}
          verify-peer: false
        shutdown-timeout: 200ms
      # Redis 연결 실패 시에도 애플리케이션 시작 허용
      repositories:
        enabled: false

springdoc:
  api-docs:
    path: /v3/api-docs
  swagger-ui:
    path: /docs
    enabled: true
    operations-sorter: method
    tags-sorter: alpha
    use-root-path: false
    persist-authorization: true
  show-actuator: false
  default-flat-param-object: true
  writer-with-order-by-keys: true

server:
  port: 8080

# OAuth 설정 (환경 변수에서 가져옴)
google:
  client-id: ${GOOGLE_CLIENT_ID:}
  client-secret: ${GOOGLE_CLIENT_SECRET:}
  redirect-uri: ${GOOGLE_REDIRECT_URI:}

kakao:
  rest-api-key: ${KAKAO_REST_API_KEY:}
  client-secret: ${KAKAO_CLIENT_SECRET:}
  redirect-uri: ${KAKAO_REDIRECT_URI:}
